随着企业新兴业务推动宽带需求的急剧增长，光线路终端（Optical Line Terminal，OLT）在网络业务处理、接口适配与保护、业务信号的汇聚等方面起着越来越重要的作用。然而，由于当前的接入网络业务的多样性和网络资源的复杂性，要增强高速接入网OLT的安全性和可靠性，保证下层业务的实时同步仍具有很大的挑战性。同时，企业新兴业务升级引发带宽需求膨胀式增长，对汇聚网络带宽的稳定性及业务资源的高效处理方面提出了更高的要求。因此，为了保证OLT的安全性和可靠性上对OLT中的表项调度系统进行研究具有重要意义。
本文在分析并学习了通信网络中接入网理论知识的基础上，深入研究了接入网中OLT设备的主备倒换机制及表项调度方式，主要研究工作如下：
（1）本文在对当前OLT表项调度系统中的主备倒换机制和802.1Q协议进行对比分析的基础上，通过对企业接入网组网需求进行分析，结合实际项目对OLT表项调度系统进行了系统搭建。该系统由转发控制分离模块，MAC表项管理模块，表项同步模块构成，并确定了每个模块的具体业务流程。
（2）针对传统OLT业务升级时，控制面与转发面耦合，在软件升级过程中，当主控和业务单板复位时，控制面和转发面都会被复位，导致长时间的业务中断的问题。本文提出了一种改进的基于分布式OLT的控制面与转发面解耦的方案，该方案利用主备板错开升级来实现，支持不同版本间的数据同步，过程中利用转发控制分离等关键技术，使过程中业务中断时间短。实验结果表明，该方案实现了业务转发层升级只需耗时3s，且业务不中断，光网络单元（Optical Network Unit，ONU）不下线，对用户业务无影响，解决了OLT升级业务会中断的问题。
（3）针对传统OLT集中式架构，MAC地址学习MAC地址学习与转发集中在主控板上，扩展MAC地址容量需要更换主控板，导致成本过高的问题。本文提出了一种改进的基于分布式OLT的MAC地址平滑扩容的方案，该方案将整个系统作为一个整体进行MAC学习和转发，在出口板进行MAC表项学习，在入口板进行MAC查找和转发，从而实现扩容业务板即可扩容MAC地址容量，无须更换主控，系统MAC地址容量线性扩展。实验结果表明，该方案实现了根据需求增减业务板即可实现MAC表项容量修改，解决了大量MAC表项涌入导致建网成本过高的问题。
（4）针对大量表项变化的场景，表项同步机制耗时远远大于3s，主要瓶颈在于RDP消息，通过实际测量，在linux下，发送一条消息耗时约为4ms，因此在出现N条表项变化时，其发送数据流传输（Reliable Datagram Protocol ,RDP）消息就需耗时N*4 ms，导致同步时间过长的问题。本文提出了中断和3秒查询相结合的方案，修改原有RDP传输机制，提高发送效率，将遍历一次表项时间设置为最小3s，然后利用3秒查询与中断二者结合的方式当主板表项发生变化，则产生先进先出的数据缓存(First In First Out,FIFO)从而进行直接内存访问（Direct Memory Access，DMA）中断，处理表项变化，通过RDP将对应消息传递到备板，进行单播，组播，广播报文转发。实验结果表明，该方案实现了主备板的实时同步，解决了当OLT出现故障时，对上层业务造成时延过大的问题。
通过接入网平台对本文提出的OLT表项调度系统进行验证，结果表明在OLT中应用上述方案可以使OLT业务板升级业务不中断，MAC地址表项平滑扩容以及发生故障时表项可以实时同步，提升了高速接入网的安全性和可靠性。


